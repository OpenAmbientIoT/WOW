(function(){"use strict";var e={6484:function(e,t,l){var o=l(7357),a=l(1813),n=l(2576),s=l(6055);class i{constructor(){this.id=null,this.x=0,this.y=0,this.created=Date.now(),this.size=128,this.basicSize=128,this.diskSize=128,this.colored=!1,this.debug=!1,this.event={tag:"",name:"",value:"",raw:"",timestamp:""},this.predecessor=null,this.rendering={}}inject(e){e&&(this.x=e.x?e.x:0,this.y=e.y?e.y:0)}}class c extends i{constructor(){super(),this.type="wavelet",this.color=null,this.options={fadein:!1,fadeout:!1,ringsFadeout:!1},this.packets={stack:new Set,pulse:!1,lastPulse:0},this.proximity={renderPackets:!0,indicator:{positionShift:[0,0],size:0}}}}function r(){const e=(0,s.iH)(!1),t=(0,s.iH)(),l=(0,s.iH)(!1),o=(0,s.iH)(),a=function(e){let l=e.target;l.files.length&&(t.value=URL.createObjectURL(l.files[0]))},n=function(e){let t=e.target;t.files.length&&(o.value=URL.createObjectURL(t.files[0]))};return{backgroundImageEnabled:e,backgroundImage:t,uploadBackgroundImage:a,backgroundVideoEnabled:l,backgroundVideo:o,uploadBackgroundVideo:n}}function u(){const e=(0,s.iH)(1),t=(0,s.iH)(0),l=(0,s.iH)(1),o=(0,s.iH)(0),a=(0,s.iH)(0),n=(0,s.iH)(!0);function i(o,a){const n=(t.value+a+e.value*o).toFixed(1);return(n<10?10:n>a?a:n)*l.value}return{proximityIndicatorScaleFactor:e,proximityIndicatorSizeCalculationOffset:t,proximityIndicatorSizeMultiplier:l,proximityIndicatorPositionShiftX:o,proximityIndicatorPositionShiftY:a,calculateIndicatorSize:i,renderProximityPacketsStack:n}}function d(){const e=(0,s.iH)(0),t=(0,s.iH)(null),l=(0,s.iH)(0);function o(){if(null===t.value)return l.value=0,!1;const o=new Date,a=o.getTime(),n=a-t.value,s=n/1e3;return l.value=Math.round(e.value/s),l.value}return{eventsCounter:e,eventsStartedAtMs:t,eventsPerSecond:l,averageEventsPerSecond:o}}var v=l(8965),p=l.n(v);const m=new Map;function b(e=null){let t=!1;while(!t){const l=("0000"+(Math.random()*Math.pow(36,4)|0).toString(36)).slice(-4);if(e||(e=m),!e.get(l))return t=!0,e.set(l,!0),l}}function w(){const e=(0,s.iH)("common.livingweb.app"),t=(0,s.iH)(9001),l="/mqtt",o=!0,a=4e3,n=(0,s.iH)(10),i="common-wss-client-",c=(0,s.iH)("common"),r=(0,s.iH)("UO!hE#!CtYb9O6eQ"),u=(0,s.iH)("common/telemetry"),d={client:{connected:!1},connection:{host:e.value,port:t.value,endpoint:l,clean:o,connectTimeout:a,reconnectPeriod:n.value,clientId:i+b()+"-"+b(),username:c.value,password:r.value},subscription:{topic:u.value,qos:0},publish:{topic:u.value,qos:0},qosList:[{label:0,value:0},{label:1,value:1},{label:2,value:2}],data:new Map,onConnectionLost:function(){console.log("Connection lost")},createConnection:function(e,t){console.log("Connecting...");const{host:l,port:o,endpoint:a,...n}=this.connection,s=`wss://${l}:${o}${a}`;try{this.client=p().connect(s,n),p().onConnectionLost=this.onConnectionLost,console.log(d)}catch(i){console.log("mqtt.connect error",i)}this.client.on("connect",(()=>{console.log("👍 Connection succeeded!"),"function"==typeof t&&t("blue")})),this.client.on("onConnectionLost",(()=>{console.log("🤨 Connection lost!"),"function"==typeof t&&t("yellow")})),this.client.on("error",(e=>{console.log("🤬 Connection failed!",e),this.doUnSubscribe(),this.destroyConnection(),"function"==typeof t&&t("red")})),this.client.on("message",((l,o)=>{if(!this.client.connected)return!1;let a=(new TextDecoder).decode(o);"function"==typeof e&&e(a),"function"==typeof t&&t("green")}))},doSubscribe:function(){const{topic:e,qos:t}=this.subscription;this.client.subscribe(e,t,((e,t)=>{e?console.log("Subscribe to topics error!",e):(this.subscribeSuccess=!0,console.log("Subscribe to topics res",t))}))},doUnSubscribe:function(){if(this.client.connected&&"function"===typeof this.client.unsubscribe){console.log("Unsubscribing...");const{topic:e}=this.subscription;this.client.unsubscribe(e,(e=>{e&&console.log("Unsubscribe error!",e)}))}},doPublish:function(e){const{topic:t,qos:l}=this.publish;this.client.publish(t,e,l,(e=>{e&&console.log("Publish error!",e)}))},destroyConnection:function(){console.log("Destroying connection...");try{this.client.end(),this.client={connected:!1},console.log("🔌 Successfully disconnected!")}catch(e){console.log("Disconnect failed!",e.toString()),console.log("Already disconnected!?")}},updateSettings:function(){console.log("Updating settings..."),this.connection={host:e.value,port:t.value,endpoint:l,clean:o,connectTimeout:a,reconnectPeriod:n.value,clientId:i+b()+"-"+b(),username:c.value,password:r.value},this.subscription.topic=u.value,this.publish.topic=u.value,console.log("Settings updated...")}},v=function(){d.doUnSubscribe(),d.destroyConnection(),d.updateSettings()};return{mqttHost:e,mqttPort:t,mqttUsername:c,mqttPassword:r,mqttTopic:u,mqttClient:d,updateMqttSettings:v}}function f(){const e=(0,s.iH)("Enter a message to send");function t(t){console.log("MQTT message sent (published)"),t.doPublish(e.value)}return{mqttMessageToSend:e,sendMqttMessage:t}}const g="PACKET",h="TEMP_C",y="DBUG",_="ACTV",k="LOCH",x="GEOLOC",S="RSSI",z={eventsTypes:[{name:g,enabled:!0},{name:h,enabled:!0},{name:y,enabled:!0},{name:_,enabled:!0},{name:k,enabled:!0},{name:x,enabled:!0},{name:S,enabled:!0}]},U="SVG",C={types:[{name:U,description:"transp, mid perf",enabled:!0}]};function P(e,t,l){let o=370,a=250,n=o-a,s=l-t,i=l-e,c=n/s;return 360-(i*c-(o-360))}function q(e,t,l){if(!e)return null;const o=P(e,t,l);let a=100,n=50;o>280&&o<325&&(n=50,a=30),a/=100,n/=100;const s=e=>(e+o/30)%12,i=a*Math.min(n,1-n),c=e=>n-i*Math.max(-1,Math.min(s(e)-3,Math.min(9-s(e),1)));return[255*c(0),255*c(8),255*c(4)]}function M(e){const t=new Date(e),l=t.getHours(),o=t.getMinutes(),a=t.getSeconds();return(l<10?"0"+l:l)+":"+(o<10?"0"+o:o)+":"+(a<10?"0"+a:a)+"."+t.getMilliseconds()}var H={__name:"WaveletComponent",props:{wavelet:c},setup(e){return(t,l)=>((0,a.wg)(),(0,a.iD)(a.HY,null,[e.wavelet.color?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[e.wavelet.event.name===(0,s.SU)(h)?((0,a.wg)(),(0,a.iD)("div",{key:0,class:(0,n.C_)("shine"+(e.wavelet.options.fadein?" shine_fadein":"")+(e.wavelet.options.fadeout?" shine_fadeout":"")),style:(0,n.j5)("left:"+(e.wavelet.x-e.wavelet.diskSize/2)+"px; top:"+(e.wavelet.y-e.wavelet.diskSize/2)+"px;width: "+e.wavelet.diskSize+"px;height: "+e.wavelet.diskSize+"px;background-color:"+e.wavelet.color+";-webkit-filter: blur("+e.wavelet.diskSize/5+"px)")},null,6)):e.wavelet.predecessor&&e.wavelet.predecessor.event.name===(0,s.SU)(h)?((0,a.wg)(),(0,a.iD)("div",{key:1,class:(0,n.C_)("shine"+(e.wavelet.predecessor.options.fadein?" shine_fadein":"")+(e.wavelet.predecessor.options.fadeout?" shine_fadeout":"")),style:(0,n.j5)("left:"+(e.wavelet.predecessor.x-1*e.wavelet.predecessor.diskSize/2)+"px; top:"+(e.wavelet.predecessor.y-1*e.wavelet.predecessor.diskSize/2)+"px;width: "+1*e.wavelet.predecessor.diskSize+"px;height: "+1*e.wavelet.predecessor.diskSize+"px;background-color:"+e.wavelet.predecessor.color+";-webkit-filter: blur("+e.wavelet.predecessor.diskSize/5+"px)")},null,6)):(0,a.kq)("",!0)],64)):(0,a.kq)("",!0),(0,a._)("div",{class:(0,n.C_)("wavelet"+(e.wavelet.options.fadein?" wavelet_fadein":"")+(e.wavelet.options.fadeout?" wavelet_fadeout":"")+(e.wavelet.options.ringsFadeout?" wavelet_fadeout":"")),style:(0,n.j5)("left:"+(e.wavelet.x-e.wavelet.size/2)+"px; top:"+(e.wavelet.y-e.wavelet.size/2)+"px;width: "+e.wavelet.size+"px;height: "+e.wavelet.size+"px;")},[e.wavelet.event.name===(0,s.SU)(h)?((0,a.wg)(),(0,a.iD)("span",{key:0,class:(0,n.C_)("wavelet__value"),style:(0,n.j5)(`font-size: ${e.wavelet.size/10<6?6:e.wavelet.size/10}px;`)},(0,n.zw)(e.wavelet.event.value?e.wavelet.event.value:"-")+"°",5)):(0,a.kq)("",!0),e.wavelet.debug&&e.wavelet.event.name!==(0,s.SU)(h)?((0,a.wg)(),(0,a.iD)("span",{key:1,class:"wavelet__value wavelet__value_debug",style:(0,n.j5)(`color: green; font-size: ${e.wavelet.size/10<6?6:e.wavelet.size/10}px;`)},(0,n.zw)(e.wavelet.event.name?e.wavelet.event.name:"-")+(0,n.zw)(e.wavelet.event.value?" "+e.wavelet.event.value:""),5)):(0,a.kq)("",!0),e.wavelet.colored&&e.wavelet.color?((0,a.wg)(),(0,a.iD)("div",{key:2,class:"wavelet-coloring",style:(0,n.j5)(`background-color: ${e.wavelet.color}`)},null,4)):(0,a.kq)("",!0)],6)],64))}};const V=H;var T=V;const D=["stroke-width"],I=["to"],j=(0,a._)("animate",{attributeType:"CSS",attributeName:"opacity",values:"0;1;0",dur:".4",begin:0,repeatCount:"1",fill:"freeze"},null,-1);var E={__name:"WaveletPacketComponent",props:{wavelet:c},setup(e){return(t,l)=>((0,a.wg)(),(0,a.iD)(a.HY,null,[e.wavelet.color?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[e.wavelet.event.value.TEMP?((0,a.wg)(),(0,a.iD)("div",{key:0,class:(0,n.C_)("shine"+(e.wavelet.options.fadein?" shine_fadein":"")+(e.wavelet.options.fadeout?" shine_fadeout":"")),style:(0,n.j5)("left:"+(e.wavelet.x-e.wavelet.diskSize/2)+"px; top:"+(e.wavelet.y-e.wavelet.diskSize/2)+"px;width: "+e.wavelet.diskSize+"px;height: "+e.wavelet.diskSize+"px;background-color:"+e.wavelet.color+";-webkit-filter: blur("+e.wavelet.diskSize/5+"px)")},null,6)):e.wavelet.predecessor&&e.wavelet.predecessor.event.value.TEMP?((0,a.wg)(),(0,a.iD)("div",{key:1,class:(0,n.C_)("shine"+(e.wavelet.predecessor.options.fadein?" shine_fadein":"")+(e.wavelet.predecessor.options.fadeout?" shine_fadeout":"")),style:(0,n.j5)("left:"+(e.wavelet.predecessor.x-e.wavelet.predecessor.diskSize/2)+"px; top:"+(e.wavelet.predecessor.y-e.wavelet.predecessor.diskSize/2)+"px;width: "+e.wavelet.predecessor.diskSize+"px;height: "+e.wavelet.predecessor.diskSize+"px;background-color:"+e.wavelet.predecessor.color+";-webkit-filter: blur("+e.wavelet.predecessor.diskSize/5+"px)")},null,6)):(0,a.kq)("",!0)],64)):(0,a.kq)("",!0),(0,a._)("div",{class:(0,n.C_)("wavelet wavelet_packet"+(e.wavelet.options.fadein?" wavelet_fadein":"")+(e.wavelet.options.fadeout?" wavelet_fadeout":"")+(e.wavelet.options.ringsFadeout?" wavelet_fadeout":"")),style:(0,n.j5)("left:"+(e.wavelet.x-e.wavelet.size/2)+"px; top:"+(e.wavelet.y-e.wavelet.size/2)+"px;width: "+e.wavelet.size+"px;height: "+e.wavelet.size+"px;")},[e.wavelet.options.ringsFadeout?(0,a.kq)("",!0):((0,a.wg)(!0),(0,a.iD)(a.HY,{key:0},(0,a.Ko)(e.wavelet.packets.stack,(t=>((0,a.wg)(),(0,a.iD)("svg",{key:t,style:(0,n.j5)("width: "+e.wavelet.size+"px;height: "+e.wavelet.size+"px;")},[(0,a._)("circle",{r:"10",stroke:"#fff","stroke-width":e.wavelet.size/64*2,fill:"none",cx:"50%",cy:"50%"},[(0,a._)("animate",{attributeType:"XML",attributeName:"r",from:1,to:e.wavelet.size/2,dur:".4",begin:0,repeatCount:"1",keySplines:"0,.69,.16,1",calcMode:"spline"},null,8,I),j],8,D)],4)))),128)),e.wavelet.debug?((0,a.wg)(),(0,a.iD)("span",{key:1,class:"wavelet__value wavelet__value_debug",style:(0,n.j5)(`color: green; font-size: ${e.wavelet.size/10<6?6:e.wavelet.size/10}px;`)},(0,n.zw)(e.wavelet.event.name?e.wavelet.event.name:"-")+" "+(0,n.zw)(e.wavelet.event.value&&e.wavelet.event.value.TEMP?" T:"+e.wavelet.event.value.TEMP:"")+" "+(0,n.zw)(e.wavelet.event.value&&e.wavelet.event.value.RSSI?" RSSI:"+e.wavelet.event.value.RSSI:""),5)):(0,a.kq)("",!0),e.wavelet.colored?((0,a.wg)(),(0,a.iD)("div",{key:2,class:"wavelet-coloring",style:(0,n.j5)(`background-color: ${e.wavelet.color}`)},null,4)):(0,a.kq)("",!0)],6)],64))}};const O=E;var R=O;const L=e=>e&&e.constructor&&e.constructor===Object,A=["stroke-width"],F=["to"],Y=(0,a._)("animate",{attributeType:"CSS",attributeName:"opacity",values:"0;1;0",dur:".4",begin:0,repeatCount:"1",fill:"freeze"},null,-1);var $={__name:"WaveletProximityPacketComponent",props:{wavelet:c},setup(e){return(t,l)=>((0,a.wg)(),(0,a.iD)("div",{class:(0,n.C_)("wavelet wavelet_packet wavelet_proximity-packet"+("1"===e.wavelet.event.value.PROX?" wavelet_proximity-packet_touched":"")+(e.wavelet.options.fadein," wavelet_fadein")+(e.wavelet.packets.pulse?" pulse":"")),style:(0,n.j5)("left:"+(e.wavelet.x-e.wavelet.size/2)+"px; top:"+(e.wavelet.y-e.wavelet.size/2)+"px;width: "+e.wavelet.size+"px;height: "+e.wavelet.size+"px;"),key:e.wavelet.tag},[e.wavelet.proximity.renderPackets&&!e.wavelet.options.ringsFadeout?((0,a.wg)(!0),(0,a.iD)(a.HY,{key:0},(0,a.Ko)(e.wavelet.packets.stack,(t=>((0,a.wg)(),(0,a.iD)("svg",{key:t,style:(0,n.j5)("width: "+e.wavelet.size+"px;height: "+e.wavelet.size+"px;")},[(0,a._)("circle",{r:"10",stroke:"#fff","stroke-width":e.wavelet.size/64*2,fill:"none",cx:"50%",cy:"50%"},[(0,a._)("animate",{attributeType:"XML",attributeName:"r",from:1,to:e.wavelet.size/2,dur:".4",begin:0,repeatCount:"1",keySplines:"0,.69,.16,1",calcMode:"spline"},null,8,F),Y],8,A)],4)))),128)):(0,a.kq)("",!0),(0,a._)("div",{class:"proximity-indicator",style:(0,n.j5)("transform: translate("+(e.wavelet.proximity.indicator.positionShift[0]-(64-e.wavelet.size)/2)+"px,"+(e.wavelet.proximity.indicator.positionShift[1]-(64-e.wavelet.size)/2)+"px) scale("+e.wavelet.proximity.indicator.size/64+");")},null,4),e.wavelet.debug?((0,a.wg)(),(0,a.iD)("span",{key:1,class:"wavelet__value wavelet__value_debug",style:(0,n.j5)(`color: green; font-size: ${e.wavelet.size/10<6?6:e.wavelet.size/10}px;`)},[(0,a.Uk)(" PROX PACK "),(0,s.SU)(L)(e.wavelet.event.value)?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[(0,a.Uk)((0,n.zw)(e.wavelet.event.value.TEMP?" T:"+e.wavelet.event.value.TEMP:"")+" "+(0,n.zw)(e.wavelet.event.value.RSSI?" RSSI:"+e.wavelet.event.value.RSSI:"")+" "+(0,n.zw)(e.wavelet.event.value.PROX?" PROX:"+e.wavelet.event.value.PROX:"")+" "+(0,n.zw)(e.wavelet.event.value.PVAL?" PVAL:"+e.wavelet.event.value.PVAL:""),1)],64)):(0,a.kq)("",!0)],4)):(0,a.kq)("",!0)],6))}};const N=$;var X=N,K={__name:"SvgWaveletComponent",props:{wavelet:c},setup(e){return(t,l)=>((0,a.wg)(),(0,a.iD)(a.HY,null,[e.wavelet.event.name===(0,s.SU)(g)&&"PVAL"in e.wavelet.event.value?((0,a.wg)(),(0,a.j4)((0,s.SU)(X),{key:0,wavelet:e.wavelet},null,8,["wavelet"])):(0,a.kq)("",!0),e.wavelet.event.name!==(0,s.SU)(g)||"PVAL"in e.wavelet.event.value?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)((0,s.SU)(R),{key:1,wavelet:e.wavelet},null,8,["wavelet"])),e.wavelet.event.name!==(0,s.SU)(g)?((0,a.wg)(),(0,a.j4)((0,s.SU)(T),{key:2,wavelet:e.wavelet},null,8,["wavelet"])):(0,a.kq)("",!0)],64))}};const B=K;var W=B,G={__name:"GridWaveletComponent",props:{size:Number,map:Object},setup(e){return(t,l)=>((0,a.wg)(),(0,a.iD)("div",{class:"wavelet-gr wavelet-gr_eternal",style:(0,n.j5)("left:"+(e.map.x-e.size/2)+"px; top:"+(e.map.y-e.size/2)+"px;width: "+e.size+"px;height: "+e.size+"px;")},[(0,a._)("div",{class:"wavelet-gr__value",style:(0,n.j5)(`font-size: ${e.size/10<6?6:e.size/10}px;`)},(0,n.zw)(e.map.tag.slice(-4)),5)],4))}},J=l(6034);const Q=(0,J.Z)(G,[["__scopeId","data-v-06f2dc5c"]]);var Z=Q;function ee(e,t){var l=0,o=e.length;while(l<o&&e[l]===t)++l;while(o>l&&e[o-1]===t)--o;return l>0||o<e.length?e.substring(l,o):e}class te{constructor(){}static parse(e,t){const l=ee(e,'"').split(",");if(l[0]&&"events"==l[0]){let e=!1;if(t.forEach((t=>{const o=l.some((e=>e.includes("eventName="+t.name)));t.enabled&&o&&(e=!0)})),e){const e={created:Date.now()};return l.forEach((t=>{t.includes("tagId")&&(e.tag=t.replace("tagId=","")),t.includes("eventName")&&(e.name=String(t.replace("eventName=",""))),t.includes("eventValue")&&(e.name===g?e.value=JSON.parse(t.replace("eventValue=","").replaceAll("&#44;",",")):e.value=Number.parseFloat(t.replace("eventValue=","")).toFixed(1),e.raw=t.replace("eventValue=","")),t.includes("timestamp")&&(e.timestamp=parseInt(t.replace("timestamp=","")))})),e.name===_&&0===parseInt(e.value)?null:e}}return null}}function le(e,t,l,o){return o*(l/10)*(e/t)}const oe={resizeEvents:[{event:S,enabled:!0},{event:g,enabled:!0},{event:h,enabled:!0},{event:y,enabled:!0},{event:_,enabled:!0},{event:k,enabled:!0},{event:x,enabled:!0}]};function ae(e){return oe.resizeEvents.find((t=>t.event===e&&!0===t.enabled))}function ne(e){const t=new Map;if(!e)return t;const l=e.replace(/\r\n/g,"\n").split("\n");return l.forEach((e=>{const l=e.split(",");if("ID"!=l[0]){const e=l[0].replace("tagId=",""),o=parseInt(l[1]),a=parseInt(l[2]),n={x:o,y:a};n.tag=e;const s=parseFloat(l[3]);s&&(n.size=s),t.set(e,n)}})),t}let se=1n;function ie(){const e=function(e,t){const l=4e3,o=5026,a=15,n=27;let s;if(t&&t.size){const e=Array.from(t);s=e[Math.floor(Math.random()*e.length)]}else s="(01)00850027865010(21)00oeT"+Math.floor(Math.random()*(o-l)+l).toString();let i="";const c={};return c.name=g,c.name===_&&(i=Math.round(Math.random())),c.name===g&&(i='{"TEMP":"'+(Math.random()*(n-a)+a).toFixed(1)+'"&#44;"RSSI":"70"&#44;"PROX":"'+Math.round(Math.random())+'"&#44;"PVAL":"50"&#44;"N":"'+se+'"}'),se++,"events,tagId="+s+",eventName="+c.name+",eventValue="+i+",timestamp="+Date.now()};return{generateMessage:e}}function ce(){const e=(0,s.iH)(!1),t=function(l,o,a){if(!e.value)return!1;const{generateMessage:n}=ie(),s=n(o,a.value);l.doPublish(s),setTimeout((function(){t(l,o,a)}),1)};return{enablePublish:e,publishLoop:t}}const re={files:["beep.mp3","beeps.mp3","beept.mp3","bell-clean.mp3","bell-deep.mp3","bell-high.mp3","bell-little.mp3","bell-ok.mp3","bell-small-cut.mp3","bell-soft.mp3","bellllll.mp3","bip.mp3","bleep.mp3","string.mp3","twit.mp3"]},ue=e=>((0,a.dD)("data-v-00bdd3c6"),e=e(),(0,a.Cn)(),e),de={key:0,autoplay:"",muted:"",loop:"",id:"video"},ve=["src"],pe={class:"me-3"},me=ue((()=>(0,a._)("span",{class:"fw-lighter opacity-75"},"X:",-1))),be=ue((()=>(0,a._)("span",{class:"fw-lighter opacity-75"},"Y:",-1))),we={class:"mb-3"},fe={for:"map-file-upload",class:"form-label small"},ge=ue((()=>(0,a._)("span",{class:"text-white-50"},"Upload map CSV",-1))),he=ue((()=>(0,a._)("hr",null,null,-1))),ye={class:"accordion"},_e={class:"accordion-item"},ke={class:"accordion-header"},xe={class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#accordion-item-mqtt"},Se={id:"accordion-item-mqtt",class:"accordion-collapse collapse"},ze={class:"accordion-body"},Ue={class:"text-white-50 mb-3"},Ce=ue((()=>(0,a._)("div",{class:"text-white-50 me-3 mb-1"},"Publishing",-1))),Pe={class:"d-grid gap-1"},qe={class:"text-white-50 mb-3"},Me={class:"small text-muted"},He={class:"small text-muted"},Ve=ue((()=>(0,a._)("hr",null,null,-1))),Te=ue((()=>(0,a._)("div",{class:"text-white-50 me-3 mb-1"},"WebSocket Connection",-1))),De={class:"small mb-4"},Ie=ue((()=>(0,a._)("span",{class:"opacity-75 fw-lighter"},"Host:",-1))),je=ue((()=>(0,a._)("span",{class:"opacity-75 fw-lighter"},"Port:",-1))),Ee=ue((()=>(0,a._)("span",{class:"opacity-75 fw-lighter"},"Topic:",-1))),Oe=ue((()=>(0,a._)("span",{class:"opacity-75 fw-lighter"},"User:",-1))),Re=ue((()=>(0,a._)("span",{class:"opacity-75 fw-lighter"},"Pass:",-1))),Le={class:"btn-group btn-group-sm w-100",role:"group"},Ae=(0,a.uE)('<div class="accordion-item d-none" data-v-00bdd3c6><div class="accordion-header" data-v-00bdd3c6><button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#accordion-item-example" data-v-00bdd3c6> Example </button></div><div id="accordion-item-example" class="accordion-collapse collapse" data-v-00bdd3c6><div class="accordion-body" data-v-00bdd3c6></div></div></div>',1),Fe={class:"accordion-item"},Ye=ue((()=>(0,a._)("div",{class:"accordion-header"},[(0,a._)("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#accordion-item-simulation"}," Simulation ")],-1))),$e={id:"accordion-item-simulation",class:"accordion-collapse collapse"},Ne={class:"accordion-body"},Xe={class:"form-check form-switch mb-3"},Ke=ue((()=>(0,a._)("label",{class:"form-check-label",for:"sim-checkbox",style:{color:"white"}}," Enable ",-1))),Be={class:"form-check form-switch mb-3"},We=ue((()=>(0,a._)("label",{class:"form-check-label",for:"enable-publish",style:{color:"white"}},[(0,a.Uk)(" Publish "),(0,a._)("sup",{class:"text-white-50"},"β")],-1))),Ge=ue((()=>(0,a._)("div",{class:"text-white-50 me-3 mb-2 small"},"Events per second",-1))),Je={class:"accordion-item"},Qe=ue((()=>(0,a._)("div",{class:"accordion-header"},[(0,a._)("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#accordion-item-grid"}," Grid ")],-1))),Ze={id:"accordion-item-grid",class:"accordion-collapse collapse"},et={class:"accordion-body"},tt={class:"form-check form-switch mb-3"},lt=ue((()=>(0,a._)("label",{class:"form-check-label",for:"grid-checkbox",style:{color:"white"}}," Enable ",-1))),ot={class:"form-check form-switch mb-3"},at=ue((()=>(0,a._)("label",{class:"form-check-label",for:"crosshair-checkbox",style:{color:"white"}}," Crosshair cursor ",-1))),nt={class:"accordion-item"},st=ue((()=>(0,a._)("div",{class:"accordion-header"},[(0,a._)("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#accordion-item-background"}," Background ")],-1))),it={id:"accordion-item-background",class:"accordion-collapse collapse"},ct={class:"accordion-body"},rt={class:"form-check form-switch mb-3"},ut=ue((()=>(0,a._)("label",{class:"form-check-label",for:"background-image-enable-checkbox",style:{color:"white"}}," Image ",-1))),dt={key:0,class:"mb-3"},vt=ue((()=>(0,a._)("label",{for:"background-image-upload",class:"form-label small"},[(0,a._)("span",{class:"text-white-50"},"Upload image")],-1))),pt={class:"form-check form-switch mb-3"},mt=ue((()=>(0,a._)("label",{class:"form-check-label",for:"background-video-enable-checkbox",style:{color:"white"}}," Video ",-1))),bt={key:1,class:"mb-3"},wt=ue((()=>(0,a._)("label",{for:"background-video-upload",class:"form-label small"},[(0,a._)("span",{class:"text-white-50"},"Upload video")],-1))),ft={class:"accordion-item"},gt=ue((()=>(0,a._)("div",{class:"accordion-header"},[(0,a._)("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#accordion-item-sound"}," Sound ")],-1))),ht={id:"accordion-item-sound",class:"accordion-collapse collapse"},yt={class:"accordion-body"},_t={class:"form-check form-switch mb-3"},kt=ue((()=>(0,a._)("label",{class:"form-check-label",for:"sound-on-checkbox",style:{color:"white"}}," Enable 🔉 ",-1))),xt={class:"form-check form-switch mb-3"},St=ue((()=>(0,a._)("label",{class:"form-check-label",for:"sound-simultaneous-checkbox",style:{color:"white"}}," Play simultaneous ",-1))),zt=ue((()=>(0,a._)("div",{class:"text-white-50 small mb-2"},"Select mp3",-1))),Ut=["value"],Ct={class:"mb-3"},Pt=ue((()=>(0,a._)("label",{for:"mp3-upload",class:"form-label small"},[(0,a._)("span",{class:"text-white-50"},"Or upload mp3")],-1))),qt={class:"accordion-item"},Mt=ue((()=>(0,a._)("div",{class:"accordion-header"},[(0,a._)("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#accordion-item-sizes"}," Size ")],-1))),Ht={id:"accordion-item-sizes",class:"accordion-collapse collapse"},Vt={class:"accordion-body"},Tt=ue((()=>(0,a._)("div",{class:"text-white-50 me-3 mb-2"},"Basic wavelet size ↔",-1))),Dt=ue((()=>(0,a._)("hr",null,null,-1))),It=ue((()=>(0,a._)("div",{class:"text-white-50 me-3 mb-2"},"Disk size ↔",-1))),jt={class:"accordion-item"},Et=ue((()=>(0,a._)("div",{class:"accordion-header"},[(0,a._)("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#accordion-item-proximity"}," Proximity ")],-1))),Ot={id:"accordion-item-proximity",class:"accordion-collapse collapse"},Rt={class:"accordion-body"},Lt={class:"form-check form-switch mb-1"},At=ue((()=>(0,a._)("label",{class:"form-check-label",for:"render-packets-stack",style:{color:"white"}}," Render packets ",-1))),Ft=ue((()=>(0,a._)("hr",null,null,-1))),Yt=ue((()=>(0,a._)("div",{class:"text-white-50 me-3 mb-2"},"Proximity size",-1))),$t=ue((()=>(0,a._)("span",{class:"small text-muted"},"Offset",-1))),Nt=ue((()=>(0,a._)("div",null,null,-1))),Xt=ue((()=>(0,a._)("span",{class:"small text-muted"},"Scale",-1))),Kt=ue((()=>(0,a._)("div",null,null,-1))),Bt=ue((()=>(0,a._)("span",{class:"small text-muted"},"Multiplier",-1))),Wt={class:"text-muted mt-1 font-monospace",style:{"font-size":"9px"}},Gt=ue((()=>(0,a._)("br",null,null,-1))),Jt=ue((()=>(0,a._)("hr",null,null,-1))),Qt=ue((()=>(0,a._)("div",{class:"text-white-50 me-3 mb-2"},"Proximity indicator position",-1))),Zt=ue((()=>(0,a._)("span",{class:"small text-muted"}," X shift",-1))),el=ue((()=>(0,a._)("div",null,null,-1))),tl=ue((()=>(0,a._)("span",{class:"small text-muted"}," Y shift",-1))),ll=ue((()=>(0,a._)("div",{class:"text-muted mt-1 font-monospace",style:{"font-size":"9px"}},null,-1))),ol={class:"accordion-item"},al=ue((()=>(0,a._)("div",{class:"accordion-header"},[(0,a._)("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#accordion-item-rssi"}," RSSI ")],-1))),nl={id:"accordion-item-rssi",class:"accordion-collapse collapse"},sl={class:"accordion-body"},il=ue((()=>(0,a._)("div",{class:"text-white-50 me-3 mb-2"},"RSSI scale factor",-1))),cl={class:"text-muted small ms-3"},rl=ue((()=>(0,a._)("div",{class:"text-muted mt-1 font-monospace",style:{"font-size":"9px"}},"ui size * (scale/10) * (average rssi/rssi) ",-1))),ul=ue((()=>(0,a._)("hr",null,null,-1))),dl=ue((()=>(0,a._)("span",{class:"text-white-50 me-1"},"RSSI-based size",-1))),vl=["onUpdate:modelValue","id"],pl=["for"],ml={class:"accordion-item"},bl=ue((()=>(0,a._)("div",{class:"accordion-header"},[(0,a._)("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#accordion-item-rendering"}," Rendering ")],-1))),wl={id:"accordion-item-rendering",class:"accordion-collapse collapse"},fl={class:"accordion-body"},gl=ue((()=>(0,a._)("div",{class:"text-white-50 me-3 mb-2"},"Color disk timeout, s",-1))),hl=ue((()=>(0,a._)("hr",null,null,-1))),yl={class:"row"},_l={class:"col"},kl=ue((()=>(0,a._)("div",{class:"text-white-50 me-3 mb-2"},"Min t",-1))),xl={class:"col"},Sl=ue((()=>(0,a._)("div",{class:"text-white-50 me-3 mb-2"},"Max t",-1))),zl=ue((()=>(0,a._)("hr",null,null,-1))),Ul=ue((()=>(0,a._)("span",{class:"text-white-50 me-1"},"Rendering type",-1))),Cl=["onUpdate:modelValue","value","id"],Pl=["for"],ql={class:"small text-white-50"},Ml={class:"form-check form-switch mb-3 d-none"},Hl=ue((()=>(0,a._)("label",{class:"form-check-label",for:"color-wavelets-checkbox",style:{color:"white"}}," Colorize wavelets ",-1))),Vl={class:"accordion-item"},Tl=ue((()=>(0,a._)("div",{class:"accordion-header"},[(0,a._)("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#accordion-item-events"}," Events ")],-1))),Dl={id:"accordion-item-events",class:"accordion-collapse collapse"},Il={class:"accordion-body"},jl=ue((()=>(0,a._)("span",{class:"text-white-50 me-1"},"Handle events",-1))),El=["onUpdate:modelValue","id"],Ol=["for"],Rl=ue((()=>(0,a._)("hr",null,null,-1))),Ll={class:"accordion-item"},Al=ue((()=>(0,a._)("div",{class:"accordion-header"},[(0,a._)("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#accordion-item-debug"}," Debug ")],-1))),Fl={id:"accordion-item-debug",class:"accordion-collapse collapse"},Yl={class:"accordion-body"},$l={class:"form-check form-switch mb-1"},Nl=ue((()=>(0,a._)("label",{class:"form-check-label",for:"debug-wavelets-checkbox",style:{color:"rosybrown"}}," Debug mode ",-1))),Xl=ue((()=>(0,a._)("hr",null,null,-1))),Kl=ue((()=>(0,a._)("span",{class:"text-white-50 me-1"},"Console log",-1))),Bl=["onUpdate:modelValue","id"],Wl=["for"],Gl={class:"ui-position-toggle"},Jl=ue((()=>(0,a._)("span",{class:"text-white-50 mt-4 mb-2 me-2"},"UI position",-1))),Ql={class:"btn-group btn-group-sm",role:"group"};var Zl={__name:"DisplayComponent",setup(e){let t={};localStorage.getItem("appSettings")?t=JSON.parse(localStorage.getItem("appSettings")):localStorage.setItem("appSettings",JSON.stringify(t));const l=(0,s.iH)(new Map),i=(0,s.iH)(new Map),v=(0,s.iH)(new Map),p=(0,s.iH)(1),m=(0,s.iH)(15),{backgroundImageEnabled:b,backgroundImage:y,uploadBackgroundImage:_,backgroundVideoEnabled:k,backgroundVideo:x,uploadBackgroundVideo:P}=r(),{calculateIndicatorSize:H,proximityIndicatorScaleFactor:V,proximityIndicatorSizeCalculationOffset:T,proximityIndicatorSizeMultiplier:D,proximityIndicatorPositionShiftX:I,proximityIndicatorPositionShiftY:j,renderProximityPacketsStack:E}=u(),{eventsCounter:O,eventsPerSecond:R,eventsStartedAtMs:A,averageEventsPerSecond:F}=d(),Y=(0,s.iH)(!1),$=(0,s.iH)(!1),N=(0,s.iH)(!1),X=(0,s.iH)(!1),K=(0,s.iH)(!1);let B=[{state:$,name:"Events"},{state:N,name:"Rendering"},{state:X,name:"Lifetime"},{state:K,name:"Fading"}];const{mqttHost:G,mqttPort:J,mqttTopic:Q,mqttUsername:ee,mqttPassword:se,mqttClient:ue,updateMqttSettings:Zl}=w();function eo(){ue.doUnSubscribe(),ue.destroyConnection(),ue.createConnection(uo,xo),ue.doSubscribe()}function to(){ue.doUnSubscribe(),ue.destroyConnection(),ko.value="red"}const{mqttMessageToSend:lo,sendMqttMessage:oo}=f();let ao=(0,s.qj)(C.types),no=(0,s.qj)(oe.resizeEvents);t.rssiResizeEvents&&t.rssiResizeEvents.length===oe.resizeEvents.length&&(no=(0,s.qj)(t.rssiResizeEvents));let so=(0,s.qj)(z.eventsTypes);t.eventsTypes&&t.eventsTypes.length===z.eventsTypes.length&&(so=(0,s.qj)(t.eventsTypes)),(0,a.YP)(so,(e=>{e.forEach((e=>{e.name!=S||e.enabled||(v.value.clear(),ro.value=70)}))}));const io=(0,s.iH)(20),co=(0,s.iH)(30),ro=(0,s.iH)(70);function uo(e){if(!0===Y.value)return!1;if($.value&&console.log(e),"string"==typeof e){const t=te.parse(e,so);if(t){t.name===S&&v.value.set(t.tag,t.raw),$.value&&console.log(t);const e=i.value.get(t.tag);if(e){const o=new c;if(o.event=t,o.id=t.tag,t.name!==h&&l.value.has(t.tag)){const e=l.value.get(t.tag);if(e.event.name===h){if(!0!==e.options.ringsFadeout)return!1;o.predecessor=e}else e.predecessor&&e.predecessor.event.name===h&&(o.predecessor=e.predecessor);if(t.name===g){if(L(o.event.value)&&!("PVAL"in o.event.value)){o.predecessor||(o.predecessor={...o}),o.predecessor.diskSize=jo.value;const e=q(o.predecessor.event.value.TEMP,io.value,co.value),t=e?`rgb(${e[0]},${e[1]},${e[2]})`:null;o.color=t,o.predecessor.color=t}if(t.name===g&&e){const l=Array.from(e.packets.stack);o.packets.stack=new Set(l),o.packets.stack.add(t.created)}}}if(t.name===g){let e=!1;L(o.event.value)&&"PVAL"in o.event.value&&(o.proximity.indicator.positionShift=[I.value,j.value],o.proximity.indicator.size=H(o.event.value.PVAL,Io.value),o.proximity.renderPackets=E.value,"PROX"in o.event.value&&"1"===o.event.value.PROX&&(e=!0)),e&&(o.packets.pulse=!0),//!existing.packets.pulse : null
o.packets.pulse&&(o.packets.lastPulse=(new Date).getTime())}if(!o.color){const e=L(o.event.value)?o.event.value.TEMP:o.event.value,t=q(e,io.value,co.value);o.color=t?`rgb(${t[0]},${t[1]},${t[2]})`:null}let a=Io.value;v.value.has(t.tag)&&ae(t.name)?a=le(ro.value,v.value.get(t.tag),p.value,Io.value):e.size&&(a=e.size),o.size=a,o.basicSize=Io.value,o.diskSize=jo.value,o.colored=Uo.value,o.debug=zo.value,o.inject(e),l.value.set(t.tag,o),O.value++,null===A.value&&(A.value=(new Date).getTime()),F(),N.value&&console.log("Tag "+t.tag+" ("+t.timestamp+" / "+M(t.timestamp)+") is in map. Render."),Co.value&&(Po.value&&(Vo=new Audio(Ho)),Vo.play())}else N.value&&console.log("Tag "+t.tag+" ("+t.timestamp+" / "+M(t.timestamp)+") is not in map!")}else $.value&&console.log('Skip message "'+e+"\" (disabled or can't parse)")}}function vo(e){let t=e.target;const l=new FileReader;l.onload=function(){i.value=ne(l.result,so),console.log("Uploaded CSV:"),console.log(l.result.substring(0,200))},l.readAsText(t.files[0])}const po=(0,s.iH)(!1);function mo(){!0===po.value?(to(),ko.value="green",yo()):(ko.value="red",eo())}function bo(){!0===po.value&&eo(),ko.value="blue",ho(ue,so,i)}const wo=(0,s.iH)(1),{generateMessage:fo}=ie(),{enablePublish:go,publishLoop:ho}=ce();function yo(){if(!1===po.value)return!1;_o.value=!_o.value;const e=fo(so,i.value);uo(e);const t=wo.value>0?wo.value:1;setTimeout(yo,1e3/t)}const _o=(0,s.iH)(!0),ko=(0,s.iH)("red");function xo(e){_o.value=!_o.value,ko.value=e}function So(){const e=Date.now();l.value.forEach((t=>{let o=5,a=1,n=1,s=1,i=o;if(t.event.name!==g||"PVAL"in t.event.value||(n=.1,s=.1),t.event.name===g&&"PVAL"in t.event.value&&(o=30,(new Date).getTime()-t.packets.lastPulse>300&&(t.packets.pulse=!1)),t.packets.stack.forEach((l=>{e-l>600*a&&t.packets.stack.delete(l)})),t.event.name===g||t.event.name===h||t.predecessor&&t.predecessor.event.name===h){const e=m.value;o=o<e?e:o}t.options.fadein||(K.value&&console.log("Time to fadein for #"+t.event.tag),t.options.fadein=!0,t.predecessor&&(t.predecessor.options.fadein=!0));const c=e-t.created,r=Math.floor(c/1e3);(t.event.name===h||t.predecessor&&t.predecessor.event.name===h)&&r>=i-n&&!t.options.ringsFadeout&&(K.value&&console.log("Time to fadeout rings for #"+t.event.tag),t.options.ringsFadeout=!0),r>=o-s&&!t.options.fadeout&&(K.value&&console.log("Time to fadeout for #"+t.event.tag),t.options.fadeout=!0),r>=o&&(X.value&&console.log("Lifetime exceeded "+o+"s for #"+t.event.tag+" – removing"),l.value.delete(t.event.tag)),t.predecessor&&t.predecessor.predecessor&&delete t.predecessor.predecessor})),setTimeout(So,20)}const zo=(0,s.iH)(!1),Uo=(0,s.iH)(!1),Co=(0,s.iH)(!1),Po=(0,s.iH)(!1),qo="static/sound/",Mo=t.soundFileName&&t.soundFileName.includes(".mp3")?(0,s.iH)(t.soundFileName):(0,s.iH)("bell-high.mp3");let Ho=qo+Mo.value,Vo=new Audio(Ho);function To(){Ho=qo+Mo.value,Vo=new Audio(Ho)}function Do(e){let t=e.target;t.files.length&&(Ho=URL.createObjectURL(t.files[0]),Vo=new Audio(Ho))}const Io=(0,s.iH)(128),jo=(0,s.iH)(128),Eo=(0,s.iH)(0),Oo=(0,s.iH)(0),Ro=(0,s.qj)({position:{x:0,y:0}});function Lo(e){Y.value&&(Eo.value=e.clientX,Oo.value=e.clientY,Ro.position.x=e.clientX,Ro.position.y=e.clientY)}const Ao=(0,s.iH)(!1),Fo=(0,s.iH)(0),Yo=(0,s.qj)({positions:[{style:"left: 0; top: 0;"},{style:"right: 0; top: 0;"}]}),$o=(0,s.iH)(U);function No(e){const t=e.target.value;ao.forEach((e=>{e.name!=t&&(e.enabled=!1)})),$o.value=t}function Xo(){console.log("Disconnect on leaving"),to()}return(0,a.wF)((()=>{t&&(t.selectedRenderingType&&($o.value=t.selectedRenderingType),t.basicSize&&(Io.value=t.basicSize),t.diskSize&&(jo.value=t.diskSize),t.rssiScaleFactor&&(p.value=t.rssiScaleFactor),t.temperatureDiskTimeout&&(m.value=t.temperatureDiskTimeout),t.minCelsius&&(io.value=t.minCelsius),t.maxCelsius&&(co.value=t.maxCelsius),t.simulationMode&&(po.value=t.simulationMode),t.gridMode&&(Y.value=t.gridMode),t.crosshairCursor&&(Ao.value=t.crosshairCursor),t.isSoundOn&&(Co.value=t.isSoundOn),t.isSoundSimultaneous&&(Po.value=t.isSoundSimultaneous),t.idsMap&&t.idsMap.length&&t.idsMap.forEach((e=>{i.value.set(e.tag,e)})),t.debugMode&&(zo.value=t.debugMode),t.mqttHost&&(G.value=t.mqttHost),t.mqttPort&&(J.value=t.mqttPort),t.mqttTopic&&(Q.value=t.mqttTopic),t.mqttUsername&&(ee.value=t.mqttUsername),t.mqttPassword&&(se.value=t.mqttPassword),t.consoleEvents&&($.value=t.consoleEvents),t.consoleRenderingInfo&&(N.value=t.consoleRenderingInfo),t.consoleLifetimeInfo&&(X.value=t.consoleLifetimeInfo),t.consoleFadingInfo&&(K.value=t.consoleFadingInfo))})),(0,a.bv)((()=>{!0===po.value?(ko.value="green",yo()):(ko.value="red",eo()),So(),window.addEventListener("beforeunload",Xo)})),(0,a.YP)([$o,Io,jo,p,m,io,co,i,po,Y,Ao,Co,Po,Mo,so,zo,no,$,N,X,K,G,J,Q,ee,se],(([e,l,o,a,n,s,i,c,r,u,d,v,p,m,b,w,f,g,h,y,_,k,x,S,z,U])=>{if(console.log("Settings watcher triggered"),t||(console.log("No appSettings yet"),t={}),t.selectedRenderingType=e,t.basicSize=l,t.diskSize=o,t.rssiScaleFactor=a,t.temperatureDiskTimeout=n,t.minCelsius=s,t.maxCelsius=i,t.simulationMode=r,t.gridMode=u,t.crosshairCursor=d,t.isSoundOn=v,t.isSoundSimultaneous=p,m.includes(".mp3")&&(t.soundFileName=m),c.size){const e=[...c.values()];e.length&&(t.idsMap=e)}t.eventsTypes=b,t.debugMode=w,t.rssiResizeEvents=f,t.consoleEvents=g,t.consoleRenderingInfo=h,t.consoleLifetimeInfo=y,t.consoleFadingInfo=_,t.mqttHost=k,t.mqttPort=x,t.mqttTopic=S,t.mqttUsername=z,t.mqttPassword=U,console.log("Saving setting to local storage..."),localStorage.setItem("appSettings",JSON.stringify(t)),console.log("Saved.")})),(e,t)=>((0,a.wg)(),(0,a.iD)("div",{class:(0,n.C_)("display"+((0,s.SU)(b)?" display_bg":"")),onMousemove:Lo,style:(0,n.j5)((Y.value&&Ao.value?"cursor: crosshair;":"")+(Y.value?"box-shadow: inset 0 0 0 2px wheat;":"")+((0,s.SU)(b)&&(0,s.SU)(y)?"background-image: url("+(0,s.SU)(y)+")":""))},[(0,s.SU)(k)&&(0,s.SU)(x)?((0,a.wg)(),(0,a.iD)("video",de,[(0,a._)("source",{src:(0,s.SU)(x),type:"video/mp4"},null,8,ve)])):(0,a.kq)("",!0),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.value,(([e,t])=>((0,a.wg)(),(0,a.j4)((0,s.SU)(W),{key:e,wavelet:t},null,8,["wavelet"])))),128)),Y.value?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.value,(([e,t])=>((0,a.wg)(),(0,a.j4)((0,s.SU)(Z),{key:e,size:Io.value,map:t},null,8,["size","map"])))),128)),(0,a._)("div",{class:"mouse-coordinates-tooltip",style:(0,n.j5)("top: "+Ro.position.y+"px; left: "+Ro.position.x+"px;")},[(0,a._)("span",pe,[me,(0,a.Uk)(" "+(0,n.zw)(Eo.value),1)]),(0,a._)("span",null,[be,(0,a.Uk)(" "+(0,n.zw)(Oo.value),1)])],4)],64)):(0,a.kq)("",!0),(0,a._)("div",{class:"ui-wrapper mb-3",style:(0,n.j5)(Yo.positions[Fo.value].style)},[(0,a._)("div",{class:"ui-container-toggle",style:(0,n.j5)(0===i.value.size?"display: block !important; ":"")},[(0,a._)("div",we,[(0,a._)("label",fe,[ge,(0,a.Uk)(" ("),(0,a._)("span",{style:(0,n.j5)(0===i.value.size?"color: red":"color: green")},(0,n.zw)(i.value.size)+" ids loaded",5),(0,a.Uk)(")")]),(0,a._)("input",{class:"form-control form-control-sm",id:"map-file-upload",type:"file",onChange:vo},null,32)]),he,(0,a._)("div",ye,[(0,a._)("div",_e,[(0,a._)("div",ke,[(0,a._)("button",xe,[(0,a.Uk)(" MQTT "),(0,a._)("span",{class:(0,n.C_)(["connection-status ms-1",ko.value]),style:(0,n.j5)("background-color:"+ko.value+"; opacity: "+(_o.value?1:.4)+";")},null,6)])]),(0,a._)("div",Se,[(0,a._)("div",ze,[(0,a._)("div",Ue,[Ce,(0,a.wy)((0,a._)("textarea",{class:"form-control mb-1",id:"mqtt-pub-message",rows:"4","onUpdate:modelValue":t[0]||(t[0]=e=>(0,s.dq)(lo)?lo.value=e:null)},null,512),[[o.nr,(0,s.SU)(lo)]]),(0,a._)("div",Pe,[(0,a._)("button",{class:"btn btn-sm btn-primary",onClick:t[1]||(t[1]=e=>(0,s.SU)(oo)((0,s.SU)(ue)))},"Send")])]),(0,a._)("div",qe,[(0,a._)("div",Me,"Events total: "+(0,n.zw)((0,s.SU)(O)),1),(0,a._)("div",He,"Events per second: "+(0,n.zw)((0,s.SU)(R)),1),Ve,Te,(0,a._)("div",De,[Ie,(0,a.Uk)(),(0,a.wy)((0,a._)("input",{class:"form-control form-control-sm mb-1",placeholder:"Host",onChange:t[2]||(t[2]=e=>(0,s.SU)(Zl)()),"onUpdate:modelValue":t[3]||(t[3]=e=>(0,s.dq)(G)?G.value=e:null)},null,544),[[o.nr,(0,s.SU)(G)]]),je,(0,a.Uk)(),(0,a.wy)((0,a._)("input",{class:"form-control form-control-sm mb-1",type:"number",placeholder:"Port",onChange:t[4]||(t[4]=e=>(0,s.SU)(Zl)()),"onUpdate:modelValue":t[5]||(t[5]=e=>(0,s.dq)(J)?J.value=e:null)},null,544),[[o.nr,(0,s.SU)(J)]]),Ee,(0,a.Uk)(),(0,a.wy)((0,a._)("input",{class:"form-control form-control-sm mb-1",placeholder:"Topic",onChange:t[6]||(t[6]=e=>(0,s.SU)(Zl)()),"onUpdate:modelValue":t[7]||(t[7]=e=>(0,s.dq)(Q)?Q.value=e:null)},null,544),[[o.nr,(0,s.SU)(Q)]]),Oe,(0,a.Uk)(),(0,a.wy)((0,a._)("input",{class:"form-control form-control-sm mb-1",placeholder:"User",onChange:t[8]||(t[8]=e=>(0,s.SU)(Zl)()),"onUpdate:modelValue":t[9]||(t[9]=e=>(0,s.dq)(ee)?ee.value=e:null)},null,544),[[o.nr,(0,s.SU)(ee)]]),Re,(0,a.Uk)(),(0,a.wy)((0,a._)("input",{class:"form-control form-control-sm mb-1",placeholder:"Pass",onChange:t[10]||(t[10]=e=>(0,s.SU)(Zl)()),type:"password","onUpdate:modelValue":t[11]||(t[11]=e=>(0,s.dq)(se)?se.value=e:null)},null,544),[[o.nr,(0,s.SU)(se)]])]),(0,a._)("div",Le,[(0,a._)("button",{type:"button",class:"btn btn-primary w-100",onClick:t[12]||(t[12]=e=>to())},"Disconnect "),(0,a._)("button",{type:"button",class:"btn btn-primary w-100",onClick:t[13]||(t[13]=e=>eo())},"Connect ")])])])])]),Ae,(0,a._)("div",Fe,[Ye,(0,a._)("div",$e,[(0,a._)("div",Ne,[(0,a._)("div",Xe,[(0,a.wy)((0,a._)("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[14]||(t[14]=e=>po.value=e),id:"sim-checkbox",onChange:mo},null,544),[[o.e8,po.value]]),Ke]),(0,a._)("div",Be,[(0,a.wy)((0,a._)("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[15]||(t[15]=e=>(0,s.dq)(go)?go.value=e:null),id:"enable-publish",onChange:bo},null,544),[[o.e8,(0,s.SU)(go)]]),We]),(0,a._)("div",null,[Ge,(0,a.wy)((0,a._)("input",{class:"form-control form-control-sm mb-2",type:"number",placeholder:"Set amount",style:{"max-width":"110px"},"onUpdate:modelValue":t[16]||(t[16]=e=>wo.value=e)},null,512),[[o.nr,wo.value]])])])])]),(0,a._)("div",Je,[Qe,(0,a._)("div",Ze,[(0,a._)("div",et,[(0,a._)("div",tt,[(0,a.wy)((0,a._)("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[17]||(t[17]=e=>Y.value=e),id:"grid-checkbox"},null,512),[[o.e8,Y.value]]),lt]),(0,a._)("div",ot,[(0,a.wy)((0,a._)("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[18]||(t[18]=e=>Ao.value=e),id:"crosshair-checkbox"},null,512),[[o.e8,Ao.value]]),at])])])]),(0,a._)("div",nt,[st,(0,a._)("div",it,[(0,a._)("div",ct,[(0,a._)("div",rt,[(0,a.wy)((0,a._)("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[19]||(t[19]=e=>(0,s.dq)(b)?b.value=e:null),id:"background-image-enable-checkbox"},null,512),[[o.e8,(0,s.SU)(b)]]),ut]),(0,s.SU)(b)?((0,a.wg)(),(0,a.iD)("div",dt,[vt,(0,a._)("input",{class:"form-control form-control-sm",id:"background-image-upload",type:"file",onChange:t[20]||(t[20]=(...e)=>(0,s.SU)(_)&&(0,s.SU)(_)(...e))},null,32)])):(0,a.kq)("",!0),(0,a._)("div",pt,[(0,a.wy)((0,a._)("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[21]||(t[21]=e=>(0,s.dq)(k)?k.value=e:null),id:"background-video-enable-checkbox"},null,512),[[o.e8,(0,s.SU)(k)]]),mt]),(0,s.SU)(k)?((0,a.wg)(),(0,a.iD)("div",bt,[wt,(0,a._)("input",{class:"form-control form-control-sm",id:"background-video-upload",type:"file",onChange:t[22]||(t[22]=(...e)=>(0,s.SU)(P)&&(0,s.SU)(P)(...e))},null,32)])):(0,a.kq)("",!0)])])]),(0,a._)("div",ft,[gt,(0,a._)("div",ht,[(0,a._)("div",yt,[(0,a._)("div",_t,[(0,a.wy)((0,a._)("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[23]||(t[23]=e=>Co.value=e),id:"sound-on-checkbox"},null,512),[[o.e8,Co.value]]),kt]),(0,a._)("div",xt,[(0,a.wy)((0,a._)("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[24]||(t[24]=e=>Po.value=e),id:"sound-simultaneous-checkbox"},null,512),[[o.e8,Po.value]]),St]),zt,(0,a.wy)((0,a._)("select",{class:"form-select form-select-sm mb-1","aria-label":"","onUpdate:modelValue":t[25]||(t[25]=e=>(0,s.dq)(Mo)?Mo.value=e:null),onChange:To},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,s.SU)(re).files,(e=>((0,a.wg)(),(0,a.iD)("option",{value:e,key:e},(0,n.zw)(e),9,Ut)))),128))],544),[[o.bM,(0,s.SU)(Mo)]]),(0,a._)("div",Ct,[Pt,(0,a._)("input",{class:"form-control form-control-sm",id:"mp3-upload",type:"file",onChange:Do},null,32)])])])]),(0,a._)("div",qt,[Mt,(0,a._)("div",Ht,[(0,a._)("div",Vt,[(0,a._)("div",null,[Tt,(0,a.wy)((0,a._)("input",{class:"form-control form-control-sm mb-2",type:"number",placeholder:"Size in pixels",style:{"max-width":"80px"},"onUpdate:modelValue":t[26]||(t[26]=e=>Io.value=e)},null,512),[[o.nr,Io.value]]),(0,a._)("button",{type:"button",class:"btn btn-outline-secondary btn-sm me-2",onClick:t[27]||(t[27]=e=>Io.value=32)},"32 "),(0,a._)("button",{type:"button",class:"btn btn-outline-secondary btn-sm me-2",onClick:t[28]||(t[28]=e=>Io.value=64)},"64 "),(0,a._)("button",{type:"button",class:"btn btn-outline-secondary btn-sm me-2",onClick:t[29]||(t[29]=e=>Io.value=128)},"128 "),(0,a._)("button",{type:"button",class:"btn btn-outline-secondary btn-sm me-2",onClick:t[30]||(t[30]=e=>Io.value=196)},"196 "),(0,a._)("button",{type:"button",class:"btn btn-outline-secondary btn-sm me-2",onClick:t[31]||(t[31]=e=>Io.value=256)},"256 ")]),Dt,(0,a._)("div",null,[It,(0,a.wy)((0,a._)("input",{class:"form-control form-control-sm mb-2",type:"number",placeholder:"Size in pixels",style:{"max-width":"80px"},"onUpdate:modelValue":t[32]||(t[32]=e=>jo.value=e)},null,512),[[o.nr,jo.value]]),(0,a._)("button",{type:"button",class:"btn btn-outline-secondary btn-sm me-2",onClick:t[33]||(t[33]=e=>jo.value=32)},"32 "),(0,a._)("button",{type:"button",class:"btn btn-outline-secondary btn-sm me-2",onClick:t[34]||(t[34]=e=>jo.value=64)},"64 "),(0,a._)("button",{type:"button",class:"btn btn-outline-secondary btn-sm me-2",onClick:t[35]||(t[35]=e=>jo.value=128)},"128 "),(0,a._)("button",{type:"button",class:"btn btn-outline-secondary btn-sm me-2",onClick:t[36]||(t[36]=e=>jo.value=196)},"196 "),(0,a._)("button",{type:"button",class:"btn btn-outline-secondary btn-sm me-2",onClick:t[37]||(t[37]=e=>jo.value=256)},"256 ")])])])]),(0,a._)("div",jt,[Et,(0,a._)("div",Ot,[(0,a._)("div",Rt,[(0,a._)("div",Lt,[(0,a.wy)((0,a._)("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[38]||(t[38]=e=>(0,s.dq)(E)?E.value=e:null),id:"render-packets-stack"},null,512),[[o.e8,(0,s.SU)(E)]]),At]),Ft,(0,a._)("div",null,[Yt,(0,a.wy)((0,a._)("input",{class:"form-control form-control-sm mb-2 d-inline-block",type:"number",placeholder:"Offset",style:{"max-width":"80px"},"onUpdate:modelValue":t[39]||(t[39]=e=>(0,s.dq)(T)?T.value=e:null)},null,512),[[o.nr,(0,s.SU)(T)]]),(0,a.Uk)(),$t,Nt,(0,a.wy)((0,a._)("input",{class:"form-control form-control-sm mb-2 d-inline-block",type:"number",placeholder:"Scale",style:{"max-width":"80px"},"onUpdate:modelValue":t[40]||(t[40]=e=>(0,s.dq)(V)?V.value=e:null)},null,512),[[o.nr,(0,s.SU)(V)]]),(0,a.Uk)(),Xt,Kt,(0,a.wy)((0,a._)("input",{class:"form-control form-control-sm mb-2 d-inline-block",type:"number",placeholder:"Scale",style:{"max-width":"80px"},"onUpdate:modelValue":t[41]||(t[41]=e=>(0,s.dq)(D)?D.value=e:null)},null,512),[[o.nr,(0,s.SU)(D)]]),(0,a.Uk)(),Bt,(0,a._)("div",Wt,[(0,a.Uk)(" ((offset + basic size) + scale * PVAL) * multiplier "),Gt,(0,a.Uk)("Result size will be: (10px—"+(0,n.zw)(Io.value)+"px) * multiplier "+(0,n.zw)((0,s.SU)(D)),1)])]),Jt,(0,a._)("div",null,[Qt,(0,a.wy)((0,a._)("input",{class:"form-control form-control-sm mb-2 d-inline-block",type:"number",placeholder:"Offset",style:{"max-width":"80px"},"onUpdate:modelValue":t[42]||(t[42]=e=>(0,s.dq)(I)?I.value=e:null)},null,512),[[o.nr,(0,s.SU)(I)]]),(0,a.Uk)(),Zt,el,(0,a.wy)((0,a._)("input",{class:"form-control form-control-sm mb-2 d-inline-block",type:"number",placeholder:"Scale",style:{"max-width":"80px"},"onUpdate:modelValue":t[43]||(t[43]=e=>(0,s.dq)(j)?j.value=e:null)},null,512),[[o.nr,(0,s.SU)(j)]]),(0,a.Uk)(),tl,ll])])])]),(0,a._)("div",ol,[al,(0,a._)("div",nl,[(0,a._)("div",sl,[(0,a._)("div",null,[il,(0,a.wy)((0,a._)("input",{class:"form-control form-control-sm mb-2 d-inline-block",type:"number",placeholder:"Size in pixels",style:{"max-width":"80px"},"onUpdate:modelValue":t[44]||(t[44]=e=>p.value=e)},null,512),[[o.nr,p.value]]),(0,a.Uk)(),(0,a._)("span",cl," Average RSSI "+(0,n.zw)(ro.value),1),rl]),ul,(0,a._)("div",null,[dl,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,s.SU)(no),(e=>((0,a.wg)(),(0,a.iD)("div",{class:"form-check form-switch mb-1",key:e.event},[(0,a.wy)((0,a._)("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":t=>e.enabled=t,id:`rssi-event-size-checkbox-${e.event}`},null,8,vl),[[o.e8,e.enabled]]),(0,a._)("label",{class:"form-check-label",for:`rssi-event-size-checkbox-${e.event}`,style:{color:"white"}},(0,n.zw)(e.event),9,pl)])))),128))])])])]),(0,a._)("div",ml,[bl,(0,a._)("div",wl,[(0,a._)("div",fl,[(0,a._)("div",null,[gl,(0,a.wy)((0,a._)("input",{class:"form-control form-control-sm mb-2",type:"number",placeholder:"Amount in seconds",style:{"max-width":"80px"},"onUpdate:modelValue":t[45]||(t[45]=e=>m.value=e)},null,512),[[o.nr,m.value]])]),hl,(0,a._)("div",yl,[(0,a._)("div",_l,[kl,(0,a.wy)((0,a._)("input",{class:"form-control form-control-sm mb-2",type:"number",placeholder:"Min t","onUpdate:modelValue":t[46]||(t[46]=e=>io.value=e)},null,512),[[o.nr,io.value]])]),(0,a._)("div",xl,[Sl,(0,a.wy)((0,a._)("input",{class:"form-control form-control-sm mb-2",type:"number",placeholder:"Max t","onUpdate:modelValue":t[47]||(t[47]=e=>co.value=e)},null,512),[[o.nr,co.value]])])]),zl,(0,a._)("div",null,[Ul,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,s.SU)(ao),(e=>((0,a.wg)(),(0,a.iD)("div",{class:"form-check form-switch mb-1",key:e.name},[(0,a.wy)((0,a._)("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":t=>e.enabled=t,onChange:No,value:e.name,id:`rendering-type-checkbox-${e.name}`},null,40,Cl),[[o.e8,e.enabled]]),(0,a._)("label",{class:"form-check-label",for:`rendering-type-checkbox-${e.name}`,style:{color:"white"}},[(0,a.Uk)((0,n.zw)(e.name)+" ",1),(0,a._)("sup",null,[(0,a._)("span",ql,(0,n.zw)(e.description),1)])],8,Pl)])))),128))]),(0,a._)("div",Ml,[(0,a.wy)((0,a._)("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[48]||(t[48]=e=>Uo.value=e),id:"color-wavelets-checkbox"},null,512),[[o.e8,Uo.value]]),Hl])])])]),(0,a._)("div",Vl,[Tl,(0,a._)("div",Dl,[(0,a._)("div",Il,[(0,a._)("div",null,[jl,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,s.SU)(so),(e=>((0,a.wg)(),(0,a.iD)("div",{class:"form-check form-switch mb-1",key:e.name},[(0,a.wy)((0,a._)("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":t=>e.enabled=t,id:`handle-wavelets-checkbox-${e.name}`},null,8,El),[[o.e8,e.enabled]]),(0,a._)("label",{class:"form-check-label",for:`handle-wavelets-checkbox-${e.name}`,style:{color:"white"}},(0,n.zw)(e.name),9,Ol)])))),128))]),Rl])])]),(0,a._)("div",Ll,[Al,(0,a._)("div",Fl,[(0,a._)("div",Yl,[(0,a._)("div",$l,[(0,a.wy)((0,a._)("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[49]||(t[49]=e=>zo.value=e),id:"debug-wavelets-checkbox"},null,512),[[o.e8,zo.value]]),Nl]),Xl,(0,a._)("div",null,[Kl,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,s.SU)(B),(e=>((0,a.wg)(),(0,a.iD)("div",{class:"form-check form-switch mb-1",key:e.name},[(0,a.wy)((0,a._)("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":t=>e.state.value=t,id:`console-log-checkbox-${e.name}`},null,8,Bl),[[o.e8,e.state.value]]),(0,a._)("label",{class:"form-check-label",for:`console-log-checkbox-${e.name}`,style:{color:"white"}},(0,n.zw)(e.name),9,Wl)])))),128))])])])])]),(0,a._)("div",Gl,[Jl,(0,a._)("div",Ql,[(0,a._)("button",{type:"button",class:"btn btn-outline-light",onClick:t[50]||(t[50]=e=>Fo.value=0)},"Left "),(0,a._)("button",{type:"button",class:"btn btn-outline-light",onClick:t[51]||(t[51]=e=>Fo.value=1)},"Right ")])])],4)],4)],38))}};const eo=(0,J.Z)(Zl,[["__scopeId","data-v-00bdd3c6"]]);var to=eo,lo={__name:"App",setup(e){return(e,t)=>((0,a.wg)(),(0,a.j4)(to))}};const oo=lo;var ao=oo;l(6566);(0,o.ri)(ao).mount("#app")}},t={};function l(o){var a=t[o];if(void 0!==a)return a.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,l),n.exports}l.m=e,function(){var e=[];l.O=function(t,o,a,n){if(!o){var s=1/0;for(u=0;u<e.length;u++){o=e[u][0],a=e[u][1],n=e[u][2];for(var i=!0,c=0;c<o.length;c++)(!1&n||s>=n)&&Object.keys(l.O).every((function(e){return l.O[e](o[c])}))?o.splice(c--,1):(i=!1,n<s&&(s=n));if(i){e.splice(u--,1);var r=a();void 0!==r&&(t=r)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[o,a,n]}}(),function(){l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,{a:t}),t}}(),function(){l.d=function(e,t){for(var o in t)l.o(t,o)&&!l.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};l.O.j=function(t){return 0===e[t]};var t=function(t,o){var a,n,s=o[0],i=o[1],c=o[2],r=0;if(s.some((function(t){return 0!==e[t]}))){for(a in i)l.o(i,a)&&(l.m[a]=i[a]);if(c)var u=c(l)}for(t&&t(o);r<s.length;r++)n=s[r],l.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return l.O(u)},o=self["webpackChunkwavelets"]=self["webpackChunkwavelets"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=l.O(void 0,[998],(function(){return l(6484)}));o=l.O(o)})();